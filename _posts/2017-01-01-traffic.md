---
layout:     post
title:      To fix traffic, change the roads not the drivers
date:       2017-01-01 
summary:    A Chicago case study
hidden:     true
---

There is an insurmountable volume of literature as to why traffic exists. Not only do academics love to opine on the problem, but anyone whose sat in traffic has their own theory on how to address it (what else are you supposed to think about with all that time in the car?).

If you were to distill this dialogue on traffic into a few simple hypotheses as to why it exists, you'd arrive at a list that looks something like this:

<p style="margin-left: 20px"><b>1. Demand for road usage exceeds capacity</b> (e.g., more cars on the road during rush hour than a road can handle) </p>

<p style="margin-left: 20px"><b>2. Human driving behavior creates inefficiencies</b> (e.g., a car that brakes hard will cause all the cars behind it to brake even harder)</p>

<p style="margin-left: 20px"><b>3. Design and construction of roads creates friction in the flow of traffic</b> (e.g., a traffic light that takes a long time to change)</p>

In this post, I'm going to make the case for why theory #3 is our best bet in addressing traffic and a tactical example of how to act upon it.

## Choosing the right flavor of traffic solutions

The irony in traffic theory is that often the most overlooked aspect of the solution is also the most important: *the drivers*. Previous research shows that time after time, we have overestimated our ability to influence driver behavior and demand in general. Consider for example:

1. Changing the speed limit of a road does not actually affect the speed at which cars drive on it <sup>1</sup>

2. Increasing capacity of roads translates directly into an increase in demand of road usage <sup>2</sup>

3. Creating HOV lanes does not meaningfully increase ride sharing <sup>3</sup>

If we think of traffic as a flow of water molecules, history suggests that it is easier to change the medium on which these molecues travel rathar than the intrinsic attributes of the molecules themselves. With this spirit, let's spend some time diving into theory #3.

## How to study traffic

Studying traffic requires a dataset that is difficult to curate: real vehicle data with speed, direction, and location over a significant period of time. While it would be challenging to get this data for personal/civilian cars, there is one type of vehicle that is often tracked publicly: **public buses**. <br><br>

The Chicago Transit Authority has an open API which tracks each bus in real time, around the clock. Over the course of a month, I was able to collect 2.6M records of bus locations across 30 days and all 100+ bus routes. The raw data looks like this:

![](/assets/post6_raw_data.png)

When we visualize a random subset of this data, we can see the distribution of buses across the city: 

![](/assets/post6_overview.png)

## Modeling traffic jams

Identifying a slow down or jam in traffic is a relative calculation - we only know that the flow of traffic has slowed because we understand how quickly it should be moving otherwise. Therefore to create a model of traffic, we need to understand the speed at which traffic moves through the city at any specific location and at any specific time.

To create such a model, imagine dividing the city of Chicago into a large grid with thousands of cells each the size of a city block; each cell could have its own profile of average speed based on the time of day. If we highlight the cells in which vehicles are moving at below average speeds, we're able to create the following visualization:

![](/assets/post6_traffic_all.gif)

The highlighted areas of traffic show congestion during the beginning and end of each business day, consistent with what we'd expect to see.

## Detecting structural sources of traffic

The final link to establish in the data is the relationship between where traffic builds up and the inherent characteristics of that piece of road. An easy 'build up' to observe is along the famous Lake Shore Blvd during Chicago's morning rush into the city (Northbound).

![](/assets/post6_graphic1.JPG)

You may notice that traffic originates from two points in particular throughout the morning. Let's take a look at each of these locations to try and identify what's causing the traffic. 

![](/assets/post6_graphic2.JPG)

Point A represents the first opportunity to enter downtown Chicago from Lake Shore Blvd. Prior to this intersection, traffic has been flowing across five lanes at 40-50 mph with only a few traffic lights in the preceding several miles. In addition to the traffic light, the number of lanes decreases from five to three, with only two lanes actually going into the city. Given that a substantial percentage of commuters on Lake Shore are headed downtown, it's easy to see why cars could be backed up at this intersection during peak times.

![](/assets/post6_graphic3.JPG)

Lake Shore and Waldron is not a particularly exciting intersection. Just south of Soldier Field, the only notable attribute of this intersection is that it is marked by a traffic light. Given that this is the first Northbound traffic light in several miles, poor timing of the light alone could result in congestion. 

## The best kind of traffic solutions

My thesis on traffic is simple - change the roads we drive on because changing the way we drive on them is much harder. Identifying friction in traffic is non-trivial but achievable. Yes, improving roads is expensive, time consuming, and bureaucratic - but it is far more in our control than the behavior of thousands, if not millions, of people each day.

So the next time you're stuck in traffic, instead of getting frustrated with the cars around you, take a moment to reflect on the road you're driving on. Could it have been better designed? Is anyone actually using the HOV lane? Are you waiting on a poorly timed light? You might not be going anywhere for a while.

<br><br>

Footnotes:

[1] Speed limits are usually set based on the "85th percentile rule". That is that the optimal speed limit is the 85th percentile of actual vehicle speed on the road. Studies show that even when the speed limit is changed, the 85th percentile speed remains constant [[Source](http://www.michigan.gov/documents/Establishing_Realistic_Speedlimits_85625_7.pdf)]

[2] The intuitive remedy to congested highways is simply to add more lanes. Researchers have found that there is a 1:1 relationship between highway capacity and highway demand - motorists will increase miles driven up until road capacity is consumed. This pattern holds true as well for cities in which public transportation is introduced - for every car that is taken off the road, another is added directly back in the form of a new commuter [[Source](http://www.brown.edu/Departments/Economics/Faculty/Matthew_Turner/papers/published/Duranton_Turner_AER_2011.pdf)]

[3] The complexity of coordinating ride sharing limits the impact of HOV lanes. Though there have been some time savings observed from introducing HOV lanes, the cars taken off the road (from people sharing rides) does not offset the reduction in capacity of a highway (from taking away a lane on the highway and turning it into an HOV lane) [[Source](http://www.sciencedirect.com/science/article/pii/S0968090X07000435)]


